<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>p5.js Example</title>
    <!-- <script src="https://unpkg.com/rybitten"></script> -->
    <script src="../dist/rybitten.umd.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
  </head>
  <body>
    <script>
      let preferredCube = rybitten.cubes.cubes.get("marvel-news");

      function setup() {
        createCanvas(400, 400);
        colorMode(RGB, 1); // rybitten returns RGB values in [0, 1]
        noStroke();
      }

      function draw() {
        // Access functions via the global 'rybitten' object
        // colorMode(rybitten.RYB);
        background(rybitten.ryb2rgb([1, 1, 1], preferredCube));
        for (let x = 0; x < 20; x++) {
          for (let y = 0; y < 20; y++) {
            fill(
              rybitten.rybHsl2rgb(
                [((x / 20) * 360 + frameCount) % 360, 1, y / 20],
                preferredCube,
              ),
            );
            rect(x * 20, y * 20, 20, 20);
          }
        }
        fill(rybitten.ryb2rgb([0, 0, 0], preferredCube));
        rect(200 - 50, 200 - 50, 100, 100);

        fill(rybitten.ryb2rgb([1, 1, 1], preferredCube));
        rect(200 - 25, 200 - 25, 50, 50);

        drawCubeName();
      }

      function mousePressed() {
        preferredCube = random(Array.from(rybitten.cubes.cubes.values()));
      }
      function drawCubeName() {
        push();
        textAlign(RIGHT, BOTTOM);
        textSize(16);
        text(preferredCube.title, width, height);
        pop();
      }
    </script>
  </body>
</html>
