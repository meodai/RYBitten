<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>p5.js Example</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
    <script src="../dist/p5.rybitten.umd.js"></script>
    <style>
      body {
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
      }
      canvas {
        border: 4px solid #000;
      }
    </style>
  </head>
  <body>
    <script>
      let frameCounter = 0;
      function setup() {
        createCanvas(800, 800);
        colorMode(rybitten.RYBHSL);
        noStroke();
      }

      function draw() {
        frameCounter += 0.25;
        const stripes = 36;
        const barWidth = width / stripes;
        const rowHeight = height / 4;
        const whiteBlackHeight = 30; // Height for white/black bars
        const lightnessSteps = 5; // Number of lightness variations per hue
        const segmentHeight =
          (rowHeight - whiteBlackHeight * 2) / lightnessSteps;

        // First row: Standard p5 HSL rainbow
        colorMode(HSL, 360, 100, 100);
        // Black bar across top
        fill(0, 0, 0);
        rect(0, 0, width, whiteBlackHeight);
        // Rainbow with lightness variations
        for (let i = 0; i < stripes; i++) {
          const hue = (i / stripes) * 360;
          for (let l = 0; l < lightnessSteps; l++) {
            const lightness = 80 - (l / (lightnessSteps - 1)) * 60; // Range from 80 to 20
            fill((hue + frameCounter) % 360, 100, lightness);
            rect(
              i * barWidth,
              whiteBlackHeight + l * segmentHeight,
              barWidth,
              segmentHeight,
            );
          }
        }
        // White bar across bottom
        fill(0, 0, 100);
        rect(0, rowHeight - whiteBlackHeight, width, whiteBlackHeight);

        // Second row: Default RYB HSL rainbow
        colorMode(rybitten.RYBHSL);
        // Black bar across top
        fill(0, 0, 0);
        rect(0, rowHeight, width, whiteBlackHeight);
        // Rainbow with lightness variations
        for (let i = 0; i < stripes; i++) {
          const hue = (i / stripes) * 360;
          for (let l = 0; l < lightnessSteps; l++) {
            const lightness = 80 - (l / (lightnessSteps - 1)) * 60;
            fill((hue + frameCounter) % 360, 100, lightness);
            rect(
              i * barWidth,
              rowHeight + whiteBlackHeight + l * segmentHeight,
              barWidth,
              segmentHeight,
            );
          }
        }
        // White bar across bottom
        fill(0, 0, 100);
        rect(0, rowHeight * 2 - whiteBlackHeight, width, whiteBlackHeight);

        // Third row: Custom cube RYB HSL rainbow
        colorMode(
          rybitten.rybhsl([
            [233 / 255, 199 / 255, 173 / 255],
            [214 / 255, 76 / 255, 127 / 255],
            [238 / 255, 204 / 255, 124 / 255],
            [230 / 255, 174 / 255, 115 / 255],
            [86 / 255, 141 / 255, 146 / 255],
            [118 / 255, 83 / 255, 97 / 255],
            [196 / 255, 192 / 255, 118 / 255],
            [60 / 255, 52 / 255, 40 / 255],
          ]),
        );
        // Black bar across top
        fill(0, 0, 0);
        rect(0, rowHeight * 2, width, whiteBlackHeight);
        // Rainbow with lightness variations
        for (let i = 0; i < stripes; i++) {
          const hue = (i / stripes) * 360;
          for (let l = 0; l < lightnessSteps; l++) {
            const lightness = 80 - (l / (lightnessSteps - 1)) * 60;
            fill((hue + frameCounter) % 360, 100, lightness);
            rect(
              i * barWidth,
              rowHeight * 2 + whiteBlackHeight + l * segmentHeight,
              barWidth,
              segmentHeight,
            );
          }
        }
        // White bar across bottom
        fill(0, 0, 100);
        rect(0, rowHeight * 3 - whiteBlackHeight, width, whiteBlackHeight);

        colorMode(
          rybitten.rybhsl([
            [236 / 255, 237 / 255, 241 / 255],
            [200 / 255, 75 / 255, 49 / 255],
            [235 / 255, 207 / 255, 13 / 255],
            [228 / 255, 168 / 255, 21 / 255],
            [39 / 255, 108 / 255, 176 / 255],
            [188 / 255, 57 / 255, 104 / 255],
            [122 / 255, 176 / 255, 62 / 255],
            [4 / 255, 4 / 255, 4 / 255],
          ]),
        );
        // Black bar across top
        fill(0, 0, 0);
        rect(0, rowHeight * 3, width, whiteBlackHeight);
        // Rainbow with lightness variations
        for (let i = 0; i < stripes; i++) {
          const hue = (i / stripes) * 360;
          for (let l = 0; l < lightnessSteps; l++) {
            const lightness = 80 - (l / (lightnessSteps - 1)) * 60;
            fill((hue + frameCounter) % 360, 100, lightness);
            rect(
              i * barWidth,
              rowHeight * 3 + whiteBlackHeight + l * segmentHeight,
              barWidth,
              segmentHeight,
            );
          }
        }
        // White bar across bottom
        fill(0, 0, 100);
        rect(0, height - whiteBlackHeight, width, whiteBlackHeight);
      }
    </script>
  </body>
</html>
